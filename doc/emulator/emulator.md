# Emulator
The emulator executes the bitcode generated by the assembler.

## Ticks
The emulator works in ticks. Each [`tick()`](http://doc.yasp.me/yasp.Emulator.html#tick) executes one instruction,
which is fetched from the rom. Ticks executed by the [`tickWrapper()`](http://doc.yasp.me/yasp.Emulator.html#tickWrapper),
which is invoked by a simple `setTimeout`. Because there is a limit on how frequent `setTimeout` can fire, a number of
ticks is executed in each `tickWrapper()`-call.

1. [`tickWrapper()`](http://doc.yasp.me/yasp.Emulator.html#tickWrapper)
  1. check if the emulator is running, if not, exit
  2. check if the number of instructions to be executed has been executed, if yes, exit (see [`CONTINUE`-Message](./messages.md#message-continue))
  3. check if the emulator should be waiting (`PAUSE` or `DELAY` executed), if yes, set a timeout of the desired time and exit.
     This is skipped if the emulator is stepping.
  4. [`tick()`](http://doc.yasp.me/yasp.Emulator.html#tickWrapper)
    1. check for interrupts
    2. fetch the next instruction from the ROM
      1. check if the instruction is cached, if not disassemble and cache
      2. fetch instruction from the cache
    3. load needed values for parameters
    4. call the `exec()`-function of the instruction
    5. check and set the zero-flag, if specified in instruction-file
2. [`setTickWrapperTimeout()`](http://doc.yasp.me/yasp.Emulator.html#setTickWrapperTimeout)

## PWM

## Command-API

## [Utils](./utils.md)

## [Data](./data.md)

## [Messages](./messages.md)
